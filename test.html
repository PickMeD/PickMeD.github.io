<!DOCTYPE HTML>

<html>

<!-- web3 관련 스크립트-->
<script type="text/javascript" src="./js/bignumber.min.js"></script>
<script type="text/javascript" src="./dist/web3-light.js"></script>
<script type="text/javascript" src="./js/web3.min.js"></script>
<script type="text/javascript" src="./js/utf8.js"></script>
<script type="text/javascript" src="./js/testabi.js"></script>
<script type="text/javascript" src="./abi/userPrivateAbi.js"></script>
<script type="text/javascript" src="./abi/userContainerAbi.js"></script>
<script type="text/javascript" src="./abi/companyContainerAbi.js"></script>
<script type="text/javascript" src="./abi/companyMainAbi.js"></script>
<script type="text/javascript" src="./abi/userMainAbi.js"></script>
<script type="text/javascript" src="./abi/userFreeVisionAbi.js"></script>
<script type="text/javascript" src="./abi/userProfileAbi.js"></script>
<script type="text/javascript" src="./js/fundcontract.js"></script>
<script src="https://rawgit.com/ethereumjs/browser-builds/2fb69a714afe092b06645286f14b94f41e5c062c/dist/ethereumjs-tx.js"></script>
<script src="https://cdn.rawgit.com/ethereumjs/browser-builds/2fb69a714afe092b06645286f14b94f41e5c062c/dist/ethereumjs-tx.js"></script>


<script type="text/javascript">
    // Container : 0xb0968e080c3e3758c37cbeb09b10e18ace212440
    // Private   : 0xe41edc69dbf3b198a8f9a611bd477089c4bd80d5
    // Main      : 0xf604df3b28d18922607f3f0627c39de107f6e20b
    // Profile   : 0xd81b8ee46f06ccce3ac700d3e277f0bdede6f19c
    // FreeVisio : 0x24d6d4a0285b639d42529964c4322d98172beece
    //Test Id
    /*
		A (0x731A765DFF550d11B7C880Af145066BC1bDD3127)
		"kakao","AAAA",[],[]
		"https://dispatch.cdnserbe.net/wp-content/uploads/2017/09/20170910111543_viewimagem-4.jpg","yoojung choi","Designer","판타지오",["PhotoShop","Illerstrator","여행","필라테스","노래"]
		["숭일고 졸업","이화여자대학교 시각디자인과 학사 졸업","이화여자대학교 시각디자인 석사 졸업"],["삼성전자 디자인 멤버십 12.6~15.8","삼성전자 UX팀 15.8~"],["2016 서울시 장애인돕기 App공모전 동상","17년 TED (산업 디자인과 미래)"]
		""


		B (0xd353f05a865b02dedf008a6f5d8cea2d8f969c5c)
		"Email","BBBB",[],[]
		"https://dispatch.cdnserbe.net/wp-content/uploads/2017/09/20170910111523_7.jpg","설현","프로그래머","SK플래닛",["AngulerJs","FrontEnd","React","BlockChain","이더리움"]
    */


    var Web3 = require('web3');
    var web3 = new Web3();
    web3.setProvider(new web3.providers.HttpProvider('https://ropsten.infura.io/TvuMDSQ9QbgjPihMgjvZ'));



    //사용자 메인 리스트에 보여줄 아이템
    function initUser() {
        
        var resList = new Array() ;

        userContainer = web3.eth.contract(userContainerAbi).at("0xb0968e080c3e3758c37cbeb09b10e18ace212440");
        var data = userContainer.getUserList.call();

        for(i=0;i<data.length;i++){
            userBasicInfo = web3.eth.contract(userMainAbi).at("0xf604df3b28d18922607f3f0627c39de107f6e20b");
            var userbasic = userBasicInfo.getBasicInfo(data[i]);

            var item = new Object() ;
            item.account = data[i] ;
            item.items = userbasic;
            resList.push(item);
        }
        var jsonResult = JSON.stringify(resList);

        return jsonResult;
    }
    
    //사용자 디테일 프로필 조회
    function getDetailProfile (_addr){
		var resList = new Array() ;
		userProfileContract = web3.eth.contract(userProfileAbi).at("0xd81b8ee46f06ccce3ac700d3e277f0bdede6f19c");
        userFreeVisionContract = web3.eth.contract(userFreeVisionAbi).at("0x24d6d4a0285b639d42529964c4322d98172beece");
		var item = new Object() ;


        var data = userProfileContract.getProfileInfo(_addr);
        var vision = userFreeVisionContract.getUserFreeVision(_addr);
		
		item.profileInfo = data;
		item.freeVision = vision;
		var jsonResult = JSON.stringify(item);
        return jsonResult;
    }






    // Container : 0x3bb0cdbe30a886ca5b3f301249fdbbb9da20e833
    // Detail    : 
    // Main      : 0x9b022b7aa44580b1047e1a278a9abcc738ca12b0
    // Profile   :
    //Test Id
    /*
		CompanyA (0xcf1EcAC3Fa57d8844B6195cC21b7b5Ac6a0CB185)
		0xcf1EcAC3Fa57d8844B6195cC21b7b5Ac6a0CB185,"https://www.pycon.kr/2017/media/sponsor/skplanet.png","SkPlanet","커머스/IT"
		"https://dispatch.cdnserbe.net/wp-content/uploads/2017/09/20170910111543_viewimagem-4.jpg","yoojung choi","Designer","판타지오",["PhotoShop","Illerstrator","여행","필라테스","노래"]
		
    */



    //회사 메인 리스트에 보여줄 아이템
    function getCompanyMainList(){

    	var resList = new Array() ;

    	companyContainer = web3.eth.contract(companyContainerAbi).at("0x3bb0cdbe30a886ca5b3f301249fdbbb9da20e833");
    	var data = companyContainer.getCompanyList.call();

    	for(i=0;i<data.length;i++){
            companyMainInfo = web3.eth.contract(companyMainAbi).at("0x9b022b7aa44580b1047e1a278a9abcc738ca12b0");
            var companyMainItem = companyMainInfo.getCompanyMainInfo(data[i]);

            var item = new Object() ;
            item.account = data[i] ;
            item.items = companyMainItem;

            resList.push(item);
        }

        var jsonResult = JSON.stringify(resList);

        return jsonResult;
    }


</script>




<head>
	<title>PickMe</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="is-loading">

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Main -->
		<section id="main">
			<header>

			</header>

	</section>
</div>



</body>
<script>
	if ('addEventListener' in window) {
		initUser();
		window.addEventListener('load', function() { document.body.className = document.body.className.replace(/\bis-loading\b/, ''); });
		document.body.className += (navigator.userAgent.match(/(MSIE|rv:11\.0)/) ? ' is-ie' : '');
	}
</script>
</html>